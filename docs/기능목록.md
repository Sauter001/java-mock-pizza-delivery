# 배달 주문 시스템 - 기능 목록

## 구현할 기능 목록

> 기능을 구현하기 전에 이 파일에 구현할 기능 목록을 정리해 추가한다.
> Git의 커밋 단위는 이 기능 목록 단위로 추가한다.

### 1. 데이터 로드
- [ ] `menus.md` 파일에서 메뉴 목록 로드
- [ ] `options.md` 파일에서 옵션 목록 로드
- [ ] `coupons.md` 파일에서 쿠폰 목록 로드
- [ ] 파일 파싱 예외 처리

### 2. 메뉴 조회
- [ ] 카테고리별 메뉴 출력 (피자/사이드/음료)
- [ ] 메뉴 정보 표시 (코드, 이름, 가격, 필수옵션 여부)

### 3. 메뉴 주문
- [ ] 메뉴 코드 입력 받기
- [ ] 필수 옵션 선택 처리
  - [ ] 사이즈 옵션 출력 및 선택
  - [ ] 필수 옵션 미선택 시 에러
- [ ] 선택 옵션 처리
  - [ ] 토핑 추가 여부 확인 및 선택
  - [ ] 소스 추가 여부 확인 및 선택
  - [ ] 다중 선택 처리 (쉼표 구분)
- [ ] 수량 입력 받기
- [ ] 장바구니에 추가
  - [ ] 같은 메뉴 + 같은 옵션이면 수량 합산
  - [ ] 다른 옵션이면 별도 항목으로 추가

### 4. 장바구니 관리
- [ ] 장바구니 목록 조회
  - [ ] 메뉴명, 옵션, 단가, 수량, 금액 표시
  - [ ] 총 주문 금액 표시
- [ ] 항목 삭제
- [ ] 수량 변경
  - [ ] 0으로 변경 시 삭제 처리
- [ ] 빈 장바구니 처리

### 5. 쿠폰 적용
- [ ] 보유 쿠폰 목록 조회
  - [ ] 쿠폰명, 할인 내용, 최소 주문 금액 표시
- [ ] 쿠폰 선택 및 적용
  - [ ] 최소 주문 금액 조건 검증
  - [ ] 이미 적용된 쿠폰 교체 처리
- [ ] 쿠폰 해제
- [ ] 할인 금액 계산
  - [ ] 정액 할인
  - [ ] 정률 할인 (100원 단위 절삭)
  - [ ] 배달비 무료

### 6. 배달비 계산
- [ ] 기본 배달비 3,000원
- [ ] 20,000원 이상 무료
- [ ] 배달비 무료 쿠폰 적용 시 무료

### 7. 주문 완료
- [ ] 최소 주문 금액 (12,000원) 검증
- [ ] 주문 내역서 출력
  - [ ] 주문 메뉴 목록
  - [ ] 총 주문 금액
  - [ ] 할인 금액
  - [ ] 배달비
  - [ ] 최종 결제 금액
- [ ] 주문 확인 (Y/N)
- [ ] 예상 도착 시간 계산 (현재 + 30~50분 랜덤)
- [ ] 사용한 쿠폰 삭제

---

## 예외 상황

### 공통
- [ ] 잘못된 메뉴 선택
- [ ] 빈 값 입력
- [ ] 형식에 맞지 않는 입력

### 메뉴 주문
- [ ] 존재하지 않는 메뉴 코드
- [ ] 필수 옵션 미선택
- [ ] 잘못된 옵션 번호
- [ ] 잘못된 수량 (0 이하)

### 장바구니
- [ ] 빈 장바구니에서 조회/삭제/변경 시도
- [ ] 존재하지 않는 항목 번호

### 쿠폰
- [ ] 최소 주문 금액 미달

### 주문
- [ ] 장바구니 비어있음
- [ ] 최소 주문 금액(12,000원) 미달

---

## 금액 계산 공식

### 메뉴 금액
```
메뉴 금액 = (기본 가격 + 옵션 추가 금액 합계) × 수량
```

### 총 주문 금액
```
총 주문 금액 = 모든 메뉴 금액의 합계
```

### 할인 금액
```
정액 할인: 쿠폰 할인값
정률 할인: 총 주문 금액 × 할인율 / 100 (100원 단위 절삭)
배달비 무료: 0
```

### 배달비
```
if (총 주문 금액 >= 20,000) or (배달비 무료 쿠폰)
    배달비 = 0
else
    배달비 = 3,000
```

### 최종 결제 금액
```
최종 결제 금액 = 총 주문 금액 - 할인 금액 + 배달비
```
